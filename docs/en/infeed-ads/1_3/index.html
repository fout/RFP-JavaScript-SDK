<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.111.3">
    <meta name="description" content="">


    <link rel="shortcut icon" href="https://fout.github.io/RFP-JavaScript-SDK//images/favicon.png" type="image/x-icon" />
<link rel="icon" href="https://fout.github.io/RFP-JavaScript-SDK//images/favicon.png" type="image/x-icon" />

    <title>Shortening of the title of ads and description :: RFP-JavaScript-SDK Docs</title>
    
    
    <link href="/RFP-JavaScript-SDK/css/nucleus.css?1688376599" rel="stylesheet">
    <link href="/RFP-JavaScript-SDK/css/font-awesome.min.css?1688376599" rel="stylesheet">
    <link href="/RFP-JavaScript-SDK/css/hybrid.css?1688376599" rel="stylesheet">
    <link href="/RFP-JavaScript-SDK/css/featherlight.min.css?1688376599" rel="stylesheet">
    <link href="/RFP-JavaScript-SDK/css/perfect-scrollbar.min.css?1688376599" rel="stylesheet">
    <link href="/RFP-JavaScript-SDK/css/auto-complete.css?1688376599" rel="stylesheet">
    <link href="/RFP-JavaScript-SDK/css/theme.css?1688376599" rel="stylesheet">
    <link href="/RFP-JavaScript-SDK/css/hugo-theme.css?1688376599" rel="stylesheet">
    
      <link href="/RFP-JavaScript-SDK/css/theme-red.css?1688376599" rel="stylesheet">
    

    <script src="/RFP-JavaScript-SDK/js/jquery-2.x.min.js?1688376599"></script>
    
    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{ 
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/RFP-JavaScript-SDK/en/infeed-ads/1_3/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://fout.github.io/RFP-JavaScript-SDK/en">
    RFP-JavaScript-SDK Docs
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fa fa-close"></i></span>
</div>

<script type="text/javascript" src="/RFP-JavaScript-SDK/js/lunr.min.js?1688376599"></script>
<script type="text/javascript" src="/RFP-JavaScript-SDK/js/auto-complete.js?1688376599"></script>
<script type="text/javascript">
    
        var baseurl = "\/en";
    
</script>
<script type="text/javascript" src="/RFP-JavaScript-SDK/js/search.js?1688376599"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/RFP-JavaScript-SDK/en/infeed-ads/" title="In-Feed Advertisement" class="dd-item
        parent
        
        
        ">
      <a href="/RFP-JavaScript-SDK/en/infeed-ads/">
          <b>1. </b>In-Feed Advertisement
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/RFP-JavaScript-SDK/en/infeed-ads/1_1/" title="Getting Started" class="dd-item ">
        <a href="/RFP-JavaScript-SDK/en/infeed-ads/1_1/">
        <b>1. </b>Getting Started
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/RFP-JavaScript-SDK/en/infeed-ads/1_2/" title="Additional load of ads" class="dd-item ">
        <a href="/RFP-JavaScript-SDK/en/infeed-ads/1_2/">
        <b>2. </b>Additional load of ads
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/RFP-JavaScript-SDK/en/infeed-ads/1_3/" title="Shortening of the title of ads and description" class="dd-item active">
        <a href="/RFP-JavaScript-SDK/en/infeed-ads/1_3/">
        <b>3. </b>Shortening of the title of ads and description
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/RFP-JavaScript-SDK/en/infeed-ads/1_4/" title="Display ads faster" class="dd-item ">
        <a href="/RFP-JavaScript-SDK/en/infeed-ads/1_4/">
        <b>4. </b>Display ads faster
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/RFP-JavaScript-SDK/en/infeed-ads/1_5/" title="Customized implementation" class="dd-item ">
        <a href="/RFP-JavaScript-SDK/en/infeed-ads/1_5/">
        <b>5. </b>Customized implementation
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/RFP-JavaScript-SDK/en/infeed-ads/1_6/" title="Ads parameter" class="dd-item ">
        <a href="/RFP-JavaScript-SDK/en/infeed-ads/1_6/">
        <b>6. </b>Ads parameter
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/RFP-JavaScript-SDK/en/infeed-ads/1_7/" title="AMP" class="dd-item ">
        <a href="/RFP-JavaScript-SDK/en/infeed-ads/1_7/">
        <b>7. </b>AMP
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/RFP-JavaScript-SDK/en/dfp/" title="For Using DFP (DoubleClick for Publisher)" class="dd-item
        
        
        
        ">
      <a href="/RFP-JavaScript-SDK/en/dfp/">
          <b>2. </b>For Using DFP (DoubleClick for Publisher)
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/RFP-JavaScript-SDK/en/namespace/" title="Namespace" class="dd-item
        
        
        
        ">
      <a href="/RFP-JavaScript-SDK/en/namespace/">
          <b>3. </b>Namespace
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fa fa-fw fa-language"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="ja" value="/RFP-JavaScript-SDK/infeed-ads/1_3/">日本語</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="en" value="/RFP-JavaScript-SDK/en/infeed-ads/1_3/" selected>English</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
       
      
      
      </ul>
    </section>
    
    <section id="footer">
      <p>Docs are generated by using <a href="http://gohugo.io/">Hugo</a>.</p>
<p>Theme provided by <a href="https://github.com/matcornic/hugo-theme-learn/">hugo-theme-learn</a>.</p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fa fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
                  
                  <span class="links">
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/RFP-JavaScript-SDK/en/'>TOP</a> > <a href='/RFP-JavaScript-SDK/en/infeed-ads/'>In-Feed Advertisement</a> > Shortening of the title of ads and description
          
         
          
         
          
           
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#editing-by-callback-functions">Editing by callback functions</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>Shortening of the title of ads and description</h1>
          

        


<p>If you configured at admin UI, you can reduce ad title, explanation and advertiser’s name in order to optimize for each media. Please refer to the UI manual for details.</p>
<h3 id="editing-by-callback-functions">Editing by callback functions</h3>
<p>Giving the callback functions allows you to adjust the length of the string in your optional manner. Callback functions will be called right before displaying ads. The content of ads and location will be given as an argument. At this point, you can describe the process to edit the content. And also, you can edit the number of characters of item according to the position. Callback functions should be given to <code>before_render</code> option. This <code>before_render</code> option overwrites length configurations of admin UI.</p>
<p>The following, place <code>[PR]</code> at the head of title. The number of characters of ad spots A should be within 30, and ad spots B should be within 40 including ellipses at the end of sentence.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">RFP</span>.<span style="color:#a6e22e">InFeed</span>.<span style="color:#a6e22e">Default</span>.<span style="color:#a6e22e">run</span>({
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">before_render</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">ad_info</span>, <span style="color:#a6e22e">placement_info</span>) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Insert `[PR]` at the head of the title.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">ad_info</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;[PR] &#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">ad_info</span>.<span style="color:#a6e22e">title</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Assign the maximum length of description for each ad spots.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">desc_max_len</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">30</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">placement_info</span>.<span style="color:#a6e22e">adspot_id</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;ADSPOT_A&#39;</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">desc_max_len</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">30</span>;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">placement_info</span>.<span style="color:#a6e22e">adspot_id</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;ADSPOT_B&#39;</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">desc_max_len</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">40</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Keep the number of characters of description within maximum length, and add ellipses at the end of text
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">ad_info</span>.<span style="color:#a6e22e">description</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">desc_max_len</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">ad_info</span>.<span style="color:#a6e22e">description</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">ad_info</span>.<span style="color:#a6e22e">description</span>.<span style="color:#a6e22e">substr</span>(<span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">desc_max_len</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;…&#39;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Return the edit result
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">ad_info</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><ul>
<li>Object of ads content will be given for the first argument of <code>before_render</code>. Please refer to <a href="../1_6">ads parameter for object’s property</a>.</li>
<li>Object of placement position will be given for the second argument of <code>before_render</code>. Object’s property is <code>adspot_id</code> (ad spots ID).</li>
<li>As for callback functions, the edited contents of ads object should necessarily be given back by <code>return</code>.</li>
</ul>


<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


        
            <a class="nav nav-prev" href="/RFP-JavaScript-SDK/en/infeed-ads/1_2/" title="Additional load of ads"> <i class="fa fa-chevron-left"></i></a>
        
        
            <a class="nav nav-next" href="/RFP-JavaScript-SDK/en/infeed-ads/1_4/" title="Display ads faster" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
        
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/RFP-JavaScript-SDK/js/clipboard.min.js?1688376599"></script>
    <script src="/RFP-JavaScript-SDK/js/perfect-scrollbar.min.js?1688376599"></script>
    <script src="/RFP-JavaScript-SDK/js/perfect-scrollbar.jquery.min.js?1688376599"></script>
    <script src="/RFP-JavaScript-SDK/js/jquery.sticky.js?1688376599"></script>
    <script src="/RFP-JavaScript-SDK/js/featherlight.min.js?1688376599"></script>
    <script src="/RFP-JavaScript-SDK/js/html5shiv-printshiv.min.js?1688376599"></script>
    <script src="/RFP-JavaScript-SDK/js/highlight.pack.js?1688376599"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/RFP-JavaScript-SDK/js/modernizr.custom.71422.js?1688376599"></script>
    <script src="/RFP-JavaScript-SDK/js/learn.js?1688376599"></script>
    <script src="/RFP-JavaScript-SDK/js/hugo-learn.js?1688376599"></script>

    <link href="/RFP-JavaScript-SDK/mermaid/mermaid.css?1688376599" type="text/css" rel="stylesheet" />
    <script src="/RFP-JavaScript-SDK/mermaid/mermaid.js?1688376599"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

